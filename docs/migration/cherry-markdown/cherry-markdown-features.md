# Cherry Markdown æŠ€æœ¯ç‰¹æ€§è¯¦è§£

> è…¾è®¯å¼€æºçš„é«˜æ€§èƒ½ Markdown ç¼–è¾‘å™¨ - æ·±åº¦æŠ€æœ¯è§£æ

---

## ç›®å½•

- [æ¦‚è¿°](#æ¦‚è¿°)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [ç¼–è¾‘å™¨æ¨¡å¼](#ç¼–è¾‘å™¨æ¨¡å¼)
- [åŠŸèƒ½æ¨¡å—è¯¦è§£](#åŠŸèƒ½æ¨¡å—è¯¦è§£)
- [é«˜çº§ç‰¹æ€§](#é«˜çº§ç‰¹æ€§)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [æ‰©å±•æœºåˆ¶](#æ‰©å±•æœºåˆ¶)
- [é…ç½®é€‰é¡¹](#é…ç½®é€‰é¡¹)
- [API å‚è€ƒ](#api-å‚è€ƒ)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
- [å¸¸è§åœºæ™¯](#å¸¸è§åœºæ™¯)

---

## æ¦‚è¿°

### ä»€ä¹ˆæ˜¯ Cherry Markdown

Cherry Markdown æ˜¯ç”±è…¾è®¯å¼€æºçš„ä¸€æ¬¾æ‰€è§å³æ‰€å¾—ï¼ˆWYSIWYGï¼‰çš„ Markdown ç¼–è¾‘å™¨ï¼Œä¸“ä¸ºç°ä»£ Web åº”ç”¨è®¾è®¡ã€‚å®ƒç»“åˆäº†å³æ—¶ç¼–è¾‘å’Œå®æ—¶é¢„è§ˆçš„ä¼˜åŠ¿ï¼Œæä¾›äº†ä¸°å¯Œçš„ Markdown ç¼–è¾‘ä½“éªŒã€‚

### æ ¸å¿ƒä¼˜åŠ¿

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| ğŸš€ **é«˜æ€§èƒ½** | åŸºäº ProseMirror å¼•æ“ï¼Œä¼˜åŒ–å¤§æ–‡æ¡£ç¼–è¾‘æ€§èƒ½ |
| ğŸ¨ **æ‰€è§å³æ‰€å¾—** | å®æ—¶é¢„è§ˆï¼Œæ— éœ€åˆ‡æ¢è§†å›¾ |
| ğŸ”Œ **æ’ä»¶åŒ–è®¾è®¡** | ä¸°å¯Œçš„å†…ç½®æ’ä»¶ï¼Œæ˜“äºæ‰©å±• |
| ğŸ“± **ç§»åŠ¨ç«¯å‹å¥½** | å“åº”å¼è®¾è®¡ï¼Œé€‚é…å„ç§è®¾å¤‡ |
| ğŸŒ **å›½é™…åŒ–** | æ”¯æŒä¸­è‹±æ–‡ï¼Œæ˜“äºæ‰©å±•å…¶ä»–è¯­è¨€ |
| ğŸ”’ **å®‰å…¨æ€§** | å†…ç½® XSS é˜²æŠ¤ï¼Œå®‰å…¨å¯é  |

### é€‚ç”¨åœºæ™¯

- âœ… æ–‡æ¡£ç®¡ç†ç³»ç»Ÿ
- âœ… åšå®¢å¹³å°
- âœ… çŸ¥è¯†åº“åº”ç”¨
- âœ… è®ºå›å’Œç¤¾åŒº
- âœ… ç¬”è®°åº”ç”¨
- âœ… CMS å†…å®¹ç®¡ç†
- âœ… AI èŠå¤©å¯¹è¯ç•Œé¢

---

## æ ¸å¿ƒç‰¹æ€§

### 1. ä¸‰ç§ç¼–è¾‘æ¨¡å¼

#### å®æ—¶é¢„è§ˆæ¨¡å¼ï¼ˆedit&Previewï¼‰
- **é»˜è®¤æ¨¡å¼**ï¼šå·¦ä¾§ç¼–è¾‘ï¼Œå³ä¾§å®æ—¶é¢„è§ˆ
- **åŒå‘æ»šåŠ¨**ï¼šç¼–è¾‘å’Œé¢„è§ˆæ»šåŠ¨åŒæ­¥
- **å“åº”å¼å¸ƒå±€**ï¼šç§»åŠ¨ç«¯è‡ªåŠ¨åˆ‡æ¢åˆ°å•åˆ—

#### çº¯ç¼–è¾‘æ¨¡å¼ï¼ˆeditOnlyï¼‰
- **å…¨å±ç¼–è¾‘**ï¼šä¸“æ³¨äºå†™ä½œ
- **æ— é¢„è§ˆåŒºåŸŸ**ï¼šæ›´å¿«åˆ‡æ¢
- **å¿«æ·é”®å‹å¥½**

#### çº¯é¢„è§ˆæ¨¡å¼ï¼ˆpreviewOnlyï¼‰
- **åªè¯»å±•ç¤º**ï¼šæ¸²æŸ“åçš„ Markdown
- **å¯å¤åˆ¶å†…å®¹**ï¼šä¸å½±å“åŸæ–‡
- **é€‚åˆæ–‡ç« å±•ç¤º**

### 2. å®Œæ•´çš„ Markdown è¯­æ³•æ”¯æŒ

#### æ ‡å‡† Markdown (CommonMark)
```markdown
# æ ‡é¢˜

**ç²—ä½“**
*æ–œä½“*
`è¡Œå†…ä»£ç `

- æ— åºåˆ—è¡¨
1. æœ‰åºåˆ—è¡¨
- [x] ä»»åŠ¡åˆ—è¡¨

> å¼•ç”¨å—

[é“¾æ¥](https://example.com)
![å›¾ç‰‡](image.jpg)

---

æ°´å¹³çº¿
```

#### GitHub Flavored Markdown (GFM)
- âœ… è¡¨æ ¼æ”¯æŒ
- âœ… åˆ é™¤çº¿
- âœ… è‡ªåŠ¨é“¾æ¥
- âœ… ä»»åŠ¡åˆ—è¡¨

#### æ‰©å±•è¯­æ³•
- âœ… æ•°å­¦å…¬å¼
- âœ… Mermaid æµç¨‹å›¾
- âœ… Emoji è¡¨æƒ…
- âœ… è„šæ³¨ï¼ˆFootnotesï¼‰
- âœ… å®šä¹‰åˆ—è¡¨
- âœ… ä¸Šæ ‡ã€ä¸‹æ ‡

### 3. å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½

#### æ ¼å¼åŒ–å·¥å…·
| åŠŸèƒ½ | å¿«æ·é”® | è¯´æ˜ |
|------|--------|------|
| ç²—ä½“ | Ctrl/Cmd + B | å¼ºè°ƒæ–‡æœ¬ |
| æ–œä½“ | Ctrl/Cmd + I | å€¾æ–œæ–‡æœ¬ |
| è¡Œå†…ä»£ç  | Ctrl/Cmd + Shift + K | ä»£ç ç‰‡æ®µ |
| è¡Œåˆ é™¤çº¿ | Ctrl/Cmd + Shift + S | åˆ é™¤çº¿æ–‡æœ¬ |
| ä¸‹æ ‡ | Ctrl/Cmd + + | ä¸‹æ ‡ |
| ä¸Šæ ‡ | Ctrl/Cmd + Shift + = | ä¸Šæ ‡ |

#### å—çº§å…ƒç´ 
```markdown
# H1 - H6 æ ‡é¢˜
> å¼•ç”¨å—
---
æ°´å¹³åˆ†éš”ç¬¦
```

#### åˆ—è¡¨æ”¯æŒ
```markdown
- æ— åºåˆ—è¡¨ï¼ˆé¡¹ç›®ç¬¦å·ï¼‰
1. æœ‰åºåˆ—è¡¨ï¼ˆæ•°å­—ç¼–å·ï¼‰
- [x] ä»»åŠ¡åˆ—è¡¨ï¼ˆå¯å‹¾é€‰ï¼‰
```

### 4. ä»£ç å—å¢å¼º

#### è¯­æ³•é«˜äº®
```javascript
// è‡ªåŠ¨æ£€æµ‹è¯­è¨€
function hello() {
  console.log("Hello, Cherry!");
}
```

#### æ”¯æŒçš„ä»£ç é«˜äº®å¼•æ“
- **PrismJS**: è½»é‡çº§ï¼Œæ”¯æŒå¤šè¯­è¨€
- **HighlightJS**: åŠŸèƒ½å¼ºå¤§ï¼Œä¸»é¢˜ä¸°å¯Œ
- **CodeMirror**: ç¼–è¾‘å™¨çº§åˆ«é«˜äº®

#### åŠŸèƒ½ç‰¹æ€§
- âœ… è‡ªåŠ¨è¯­è¨€æ£€æµ‹
- âœ… è¡Œå·æ˜¾ç¤º
- âœ… ä»£ç å¤åˆ¶æŒ‰é’®
- âœ… æŠ˜å ä»£ç å—

---

## æŠ€æœ¯æ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Cherry Markdown                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   ç¼–è¾‘å™¨å±‚   â”‚  â”‚   é¢„è§ˆå™¨å±‚   â”‚  â”‚   å·¥å…·æ å±‚   â”‚      â”‚
â”‚  â”‚   (Editor)   â”‚  â”‚  (Previewer) â”‚  â”‚  (Toolbar)   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                 â”‚                 â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                           â”‚                                 â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                  â”‚   æ ¸å¿ƒå¼•æ“å±‚    â”‚                        â”‚
â”‚                  â”‚   (Engine)      â”‚                        â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                           â”‚                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚                                   â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ProseMirror  â”‚                  â”‚  Markdown-IT  â”‚      â”‚
â”‚  â”‚   Editor     â”‚                  â”‚  Parser       â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ’ä»¶ç³»ç»Ÿ (Plugin)                       â”‚
â”‚  â€¢ Code Highlight  â€¢ Math (KaTeX)  â€¢ Mermaid               â”‚
â”‚  â€¢ Image Upload   â€¢ Table         â€¢ Emoji                  â”‚
â”‚  â€¢ Custom Format  â€¢ Auto Save     â€¢ Shortcuts             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒä¾èµ–

ä¾èµ–é¡¹ | ç‰ˆæœ¬ | ç”¨é€”
-------|------|------
ProseMirror | 1.x | ç¼–è¾‘å™¨æ ¸å¿ƒå¼•æ“
markdown-it | 13.x | Markdown è§£æå™¨
KaTeX | 0.16.x | æ•°å­¦å…¬å¼æ¸²æŸ“
Mermaid | 10.x | æµç¨‹å›¾æ¸²æŸ“
PrismJS | 1.29.x | ä»£ç é«˜äº®

### æŠ€æœ¯æ ˆè®¾è®¡åŸåˆ™

1. **æ¨¡å—åŒ–**: æ¯ä¸ªåŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼Œæ˜“äºç»´æŠ¤
2. **å¯æ‰©å±•**: æ’ä»¶æœºåˆ¶æ”¯æŒåŠŸèƒ½æ‰©å±•
3. **é«˜æ€§èƒ½**: è™šæ‹Ÿæ»šåŠ¨ã€å¢é‡æ›´æ–°
4. **å…¼å®¹æ€§**: æ”¯æŒç°ä»£æµè§ˆå™¨å’Œ IE11

---

## ç¼–è¾‘å™¨æ¨¡å¼

### 1. å®æ—¶é¢„è§ˆæ¨¡å¼ (edit&Preview)

**ç‰¹ç‚¹**:
- åŒå±å¸ƒå±€ï¼ˆå·¦ç¼–è¾‘å³é¢„è§ˆï¼‰
- æ»šåŠ¨åŒæ­¥ï¼ˆç¼–è¾‘â†’é¢„è§ˆï¼‰
- å®æ—¶æ¸²æŸ“ï¼ˆè¾“å…¥å³æ—¶æ˜¾ç¤ºï¼‰

**é€‚ç”¨åœºæ™¯**:
- æ–‡æ¡£ç¼–å†™
- åšå®¢æ–‡ç« ç¼–è¾‘
- éœ€è¦é¢„è§ˆæ•ˆæœçš„å†…å®¹åˆ›å»º

**é…ç½®**:
```javascript
{
  editor: {
    defaultModel: 'edit&Preview',
  }
}
```

### 2. çº¯ç¼–è¾‘æ¨¡å¼ (editOnly)

**ç‰¹ç‚¹**:
- å…¨å±ç¼–è¾‘ç•Œé¢
- æ— é¢„è§ˆåŒº
- ä¸“æ³¨å†™ä½œ

**é€‚ç”¨åœºæ™¯**:
- çº¯ Markdown ç¼–è¾‘
- å¿«é€Ÿç¬”è®°
- ä¸éœ€è¦é¢„è§ˆçš„åœºæ™¯

**é…ç½®**:
```javascript
{
  editor: {
    defaultModel: 'editOnly',
  }
}
```

### 3. çº¯é¢„è§ˆæ¨¡å¼ (previewOnly)

**ç‰¹ç‚¹**:
- åªè¯»æ¨¡å¼
- æ¸²æŸ“ Markdown
- å¯å¤åˆ¶å†…å®¹

**é€‚ç”¨åœºæ™¯**:
- æ–‡ç« å±•ç¤º
- æ–‡æ¡£é˜…è¯»
- å…¬å¼€å†…å®¹é¢„è§ˆ

**é…ç½®**:
```javascript
{
  editor: {
    defaultModel: 'previewOnly',
    readOnly: true,
  }
}
```

---

## åŠŸèƒ½æ¨¡å—è¯¦è§£

### 1. è¡¨æ ¼ç¼–è¾‘å™¨

#### åŠŸèƒ½ç‰¹æ€§
- âœ… å¯è§†åŒ–è¡¨æ ¼ç¼–è¾‘
- âœ… æ‹–æ‹½è°ƒæ•´åˆ—å®½
- âœ… æ·»åŠ /åˆ é™¤è¡Œåˆ—
- âœ… è¡¨æ ¼å¯¹é½æ§åˆ¶
- âœ… è¡¨æ ¼æ ·å¼è‡ªå®šä¹‰

#### ç¤ºä¾‹

| åˆ—1 | åˆ—2 | åˆ—3 |
|-----|-----|-----|
| æ•°æ®1 | æ•°æ®2 | æ•°æ®3 |
| æ•°æ®4 | æ•°æ®5 | æ•°æ®6 |

```markdown
| åˆ—1 | åˆ—2 | åˆ—3 |
|-----|-----|-----|
| æ•°æ®1 | æ•°æ®2 | æ•°æ®3 |
| æ•°æ®4 | æ•°æ®5 | æ•°æ®6 |
```

#### é«˜çº§åŠŸèƒ½
- **è¡¨æ ¼è½¬å›¾è¡¨**: æ”¯æŒè½¬ä¸º ECharts å›¾è¡¨
- **è¡¨æ ¼æ ·å¼**: æ”¯æŒè‡ªå®šä¹‰ CSS ç±»
- **è¡¨æ ¼å¯¼å‡º**: å¯¼å‡ºä¸º Excel/CSV

### 2. å›¾ç‰‡ä¸Šä¼ 

#### æ”¯æŒæ–¹å¼
1. **æ‹–æ‹½ä¸Šä¼ **: æ‹–æ‹½å›¾ç‰‡åˆ°ç¼–è¾‘å™¨
2. **ç²˜è´´ä¸Šä¼ **: ç²˜è´´å‰ªè´´æ¿å›¾ç‰‡
3. **ç‚¹å‡»ä¸Šä¼ **: å·¥å…·æ ä¸Šä¼ æŒ‰é’®
4. **URL æ’å…¥**: ç›´æ¥è¾“å…¥å›¾ç‰‡åœ°å€

#### é…ç½®ç¤ºä¾‹

```javascript
{
  fileUpload: (file, insertIMG) => {
    // è‡ªå®šä¹‰ä¸Šä¼ é€»è¾‘
    const formData = new FormData();
    formData.append('file', file);

    fetch('/api/upload', {
      method: 'POST',
      body: formData,
    })
    .then(res => res.json())
    .then(data => {
      insertIMG(data.url);  // æ’å…¥å›¾ç‰‡
    });
  }
}
```

#### å›¾ç‰‡åŠŸèƒ½
- âœ… å›¾ç‰‡é¢„è§ˆ
- âœ… å›¾ç‰‡å¤§å°è°ƒæ•´
- âœ… å›¾ç‰‡å¯¹é½ï¼ˆå·¦/ä¸­/å³ï¼‰
- âœ… å›¾ç‰‡æ ‡é¢˜ï¼ˆaltï¼‰
- âœ… å›¾ç‰‡é“¾æ¥ï¼ˆhrefï¼‰

### 3. æ•°å­¦å…¬å¼

#### æ”¯æŒè¯­æ³•
ä½¿ç”¨ KaTeX å¼•æ“æ¸²æŸ“æ•°å­¦å…¬å¼ï¼š

è¡Œå†…å…¬å¼: `$E = mc^2$`
å—çº§å…¬å¼:
```latex
$$
f(x) = \int_{-\infty}^{\infty} \hat{f}(\xi)\,e^{2\pi i \xi x} \,d\xi
$$
```

#### æ”¯æŒçš„æ•°å­¦ç¬¦å·
- âœ… å¸Œè…Šå­—æ¯ï¼ˆÎ±, Î², Î³, ...ï¼‰
- âœ… è¿ç®—ç¬¦å·ï¼ˆ+, -, Ã—, Ã·, ...ï¼‰
- âœ… å…³ç³»ç¬¦å·ï¼ˆ=, â‰ , â‰ˆ, ...ï¼‰
- âœ… ç®­å¤´ç¬¦å·ï¼ˆâ†’, â†, â‡„, ...ï¼‰
- âœ… æ±‚å’Œã€ç§¯åˆ†ã€æé™
- âœ… çŸ©é˜µã€è¡Œåˆ—å¼

#### é…ç½®

```javascript
{
  engine: {
    syntax: {
      math: {
        enable: true,  // å¯ç”¨æ•°å­¦å…¬å¼
      }
    }
  }
}
```

### 4. Mermaid æµç¨‹å›¾

#### æ”¯æŒçš„å›¾è¡¨ç±»å‹

**æµç¨‹å›¾ (Flowchart)**
```mermaid
graph LR
  A[å¼€å§‹] --> B{åˆ¤æ–­}
  B -->|æ˜¯| C[æ‰§è¡Œ]
  B -->|å¦| D[ç»“æŸ]
  C --> D
```

**æ—¶åºå›¾ (Sequence Diagram)**
```mermaid
sequenceDiagram
  participant A
  participant B
  A->>B: å‘é€æ¶ˆæ¯
  B->>A: è¿”å›å“åº”
```

**ç±»å›¾ (Class Diagram)**
```mermaid
classDiagram
  class Animal {
    +String name
    +eat()
  }
  class Dog {
    +bark()
  }
  Animal <|-- Dog
```

**ç”˜ç‰¹å›¾ (Gantt Chart)**
```mermaid
gantt
  title é¡¹ç›®è®¡åˆ’
  dateFormat  YYYY-MM-DD
  section å¼€å‘
  éœ€æ±‚åˆ†æ    :a1, 2024-01-01, 5d
  åŠŸèƒ½å¼€å‘    :a2, after a1, 10d
  section æµ‹è¯•
  å•å…ƒæµ‹è¯•    :b1, after a2, 3d
```

#### é…ç½®

```javascript
{
  engine: {
    syntax: {
      mermaid: {
        enable: true,
        theme: 'default',  // default, forest, dark, neutral
      }
    }
  }
}
```

### 5. ä»£ç å—

#### æ”¯æŒçš„è¯­è¨€

```javascript
// JavaScript
languages: ['javascript', 'typescript', 'react', 'vue']

// Python
languages: ['python', 'django', 'flask']

// å…¶ä»–
languages: ['java', 'go', 'rust', 'php', 'ruby', 'c', 'cpp', 'csharp']
```

#### åŠŸèƒ½ç‰¹æ€§

- âœ… è¯­æ³•é«˜äº®ï¼ˆ20+ ç§è¯­è¨€ï¼‰
- âœ… è¡Œå·æ˜¾ç¤º
- âœ… ä»£ç å¤åˆ¶æŒ‰é’®
- âœ… ä¸»é¢˜åˆ‡æ¢ï¼ˆå¤šå¥—ä¸»é¢˜ï¼‰
- âœ… ä»£ç æŠ˜å 

#### é…ç½®

```javascript
{
  previewer: {
    showCodeRowNumber: true,
    codeBlockStyle: 'prism',  // prism, hljs, codeium
    hljs: {
      theme: 'atom-one-dark',
    }
  }
}
```

### 6. Emoji è¡¨æƒ…

#### è¾“å…¥æ–¹å¼
1. **å¿«æ·è¾“å…¥**: `:smile:` â†’ ğŸ˜„
2. **Windows é”®**: Win + . ï¼ˆEmoji é€‰å–å™¨ï¼‰
3. **Mac é”®**: Cmd + Ctrl + Space
4. **å·¥å…·æ æŒ‰é’®**: Emoji é€‰æ‹©å™¨

#### å¸¸ç”¨ Emoji
- ğŸ˜ƒ `:smile:` - å¾®ç¬‘
- â¤ï¸ `:heart:` - çˆ±å¿ƒ
- ğŸš€ `:rocket:` - ç«ç®­
- âœ… `:white_check_mark:` - å¯¹å·
- âŒ `:x:` - å‰å·
- âš ï¸ `:warning:` - è­¦å‘Š

---

## é«˜çº§ç‰¹æ€§

### 1. å¿«æ·é”®ç³»ç»Ÿ

#### é»˜è®¤å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| Ctrl/Cmd + B | ç²—ä½“ |
| Ctrl/Cmd + I | æ–œä½“ |
| Ctrl/Cmd + K | è¡Œå†…ä»£ç  |
| Ctrl/Cmd + U | ä¸‹åˆ’çº¿ |
| Ctrl/Cmd + S | ä¿å­˜ï¼ˆéœ€é…ç½®ï¼‰ |
| Ctrl/Cmd + Z | æ’¤é”€ |
| Ctrl/Cmd + Shift + Z | é‡åš |
| Ctrl/Cmd + / | æ³¨é‡Š/è§£é‡Š |
| Ctrl/Cmd + Enter | æ’å…¥ä»£ç å— |
| Ctrl/Cmd + Shift + E | æ’å…¥å¤–éƒ¨é“¾æ¥ |

#### è‡ªå®šä¹‰å¿«æ·é”®

```javascript
{
  engine: {
    global: {
      keydown: (event) => {
        // è‡ªå®šä¹‰å¿«æ·é”®å¤„ç†
        if (event.ctrlKey && event.key === 'k') {
          // è‡ªå®šä¹‰é€»è¾‘
          return false;  // é˜»æ­¢é»˜è®¤è¡Œä¸º
        }
      }
    }
  }
}
```

### 2. è‡ªåŠ¨ä¿å­˜

#### é…ç½®

```javascript
{
  editor: {
    autoSave: true,           // å¯ç”¨è‡ªåŠ¨ä¿å­˜
    autoSaveInterval: 3000,  // ä¿å­˜é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  },
  callback: {
    afterChange: (markdown, html, context) => {
      // å®æ—¶ä¿å­˜
      saveToStorage(markdown);
    }
  }
}
```

#### å®ç°

```javascript
function saveToStorage(markdown) {
  localStorage.setItem('markdown-content', markdown);
}
```

### 3. å…¨å±æ¨¡å¼

#### è§¦å‘æ–¹å¼
1. å·¥å…·æ ç‚¹å‡»å…¨å±æŒ‰é’®
2. å¿«æ·é”® `F11`
3. API è°ƒç”¨ `cherry.fullScreen()`

#### é…ç½®

```javascript
{
  toolbars: {
    toolbar: [
      // ... å…¶ä»–æŒ‰é’®
      ['fullScreen'],  // æ·»åŠ å…¨å±æŒ‰é’®
    ]
  }
}
```

### 4. æœç´¢å’Œæ›¿æ¢

#### åŠŸèƒ½
- âœ… å…¨æ–‡æœç´¢
- âœ… æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒ
- âœ… åŒºåˆ†å¤§å°å†™
- âœ… æ‰¹é‡æ›¿æ¢

#### ä½¿ç”¨
```javascript
// æœç´¢
cherry.search('search-term');

// æ›¿æ¢
cherry.replace('search-term', 'replace-term');
```

### 5. å¯¼å‡ºåŠŸèƒ½

#### æ”¯æŒçš„æ ¼å¼
- **HTML**: æ ‡å‡† HTML æ ¼å¼
- **Markdown**: æ ‡å‡† Markdown æ ¼å¼
- **PDF**: é€šè¿‡æµè§ˆå™¨æ‰“å°æˆ– jsPDF
- **å›¾ç‰‡**: å°†å†…å®¹å¯¼å‡ºä¸ºå›¾ç‰‡ï¼ˆéœ€è¦é…ç½®ï¼‰

#### ç¤ºä¾‹

```javascript
// å¯¼å‡º HTML
const html = cherry.getHtml();
downloadFile(html, 'content.html', 'text/html');

// å¯¼å‡º Markdown
const markdown = cherry.getValue();
downloadFile(markdown, 'content.md', 'text/markdown');
```

---

## æ€§èƒ½ä¼˜åŒ–

### 1. è™šæ‹Ÿæ»šåŠ¨

#### é…ç½®

```javascript
{
  editor: {
    // å¤§æ–‡æ¡£å¯ç”¨è™šæ‹Ÿæ»šåŠ¨
    isVirtualScroll: true,
  }
}
```

#### æ•ˆæœ
- æ”¯æŒ 10 ä¸‡+ å­—çš„å¤§æ–‡æ¡£
- æµç•…çš„æ»šåŠ¨ä½“éªŒ
- é™ä½å†…å­˜å ç”¨

### 2. å¢é‡æ›´æ–°

#### æœºåˆ¶
- åªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†
- å‡å°‘ DOM æ“ä½œ
- ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½

### 3. æ‡’åŠ è½½

#### å›¾ç‰‡æ‡’åŠ è½½

```javascript
{
  engine: {
    global: {
      lazyLoadImage: true,  // å¯ç”¨å›¾ç‰‡æ‡’åŠ è½½
    }
  }
}
```

#### æ’ä»¶æ‡’åŠ è½½

```javascript
// åŠ¨æ€åŠ è½½ Mermaid
import('mermaid');
```

### 4. æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| åˆå§‹åŒ–æ—¶é—´ | < 200ms |
| é¦–æ¬¡æ¸²æŸ“ | < 100ms |
| å†…å®¹æ›´æ–° | < 50ms |
| æ»šåŠ¨å“åº” | < 16ms (60fps) |
| å†…å­˜å ç”¨ | < 50MB (æ ‡å‡†æ–‡æ¡£) |

---

## æ‰©å±•æœºåˆ¶

### 1. è‡ªå®šä¹‰å·¥å…·æ æŒ‰é’®

#### æ·»åŠ è‡ªå®šä¹‰æŒ‰é’®

```javascript
{
  toolbars: {
    customMenu: [
      {
        name: 'my-button',
        icon: 'icon-class',
        tip: 'æç¤ºæ–‡æœ¬',
        onClick: (event, cherry) => {
          // æŒ‰é’®ç‚¹å‡»å¤„ç†
          cherry.insertValue('**æ’å…¥çš„æ–‡æœ¬**');
        }
      }
    ]
  }
}
```

### 2. è‡ªå®šä¹‰å¿«æ·é”®

#### æ·»åŠ å¿«æ·é”®

```javascript
{
  engine: {
    global: {
      keydown: (event, cherry) => {
        if (event.ctrlKey && event.key === 'e') {
            // è‡ªå®šä¹‰å¿«æ·é”®
          cherry.insertValue('è‡ªå®šä¹‰å†…å®¹');
          return false;
        }
      }
    }
  }
}
```

### 3. è‡ªå®šä¹‰è¯­æ³•é«˜äº®

#### æ·»åŠ è¯­è¨€

```javascript
{
  previewer: {
    hljs: {
      languages: [
        'javascript',
        'python',
        'cpp',
        // æ·»åŠ è‡ªå®šä¹‰è¯­è¨€
      ]
    }
  }
}
```

### 4. è‡ªå®šä¹‰ä¸»é¢˜

#### CSS å˜é‡

```css
:root {
  --cherry-light-bg: #ffffff;
  --cherry-light-font-color: #333333;
  --cherry-light-border-color: #e0e0e0;
  --cherry-light-active-color: #1976d2;
}

[data-theme='dark'] {
  --cherry-light-bg: #1e1e1e;
  --cherry-light-font-color: #d4d4d4;
  --cherry-light-border-color: #3c3c3c;
  --cherry-light-active-color: #4daafc;
}
```

---

## é…ç½®é€‰é¡¹

### å®Œæ•´é…ç½®ç¤ºä¾‹

```javascript
import Cherry from 'cherry-markdown';
import 'cherry-markdown/dist/cherry-markdown.css';

const cherry = new Cherry({
  // åŸºç¡€é…ç½®
  id: 'markdown-editor',
  value: '# åˆå§‹å†…å®¹\n\nå¼€å§‹ç¼–å†™æ‚¨çš„ Markdown...',

  // ç¼–è¾‘å™¨é…ç½®
  editor: {
    theme: 'light',                    // ä¸»é¢˜: light | dark
    defaultModel: 'edit&Preview',      // é»˜è®¤æ¨¡å¼
    height: '100%',                    // é«˜åº¦
    minHeight: '500px',                // æœ€å°é«˜åº¦
    placeholder: 'è¯·è¾“å…¥ Markdown å†…å®¹...',  // å ä½æ–‡æœ¬
    autoSave: false,                   // è‡ªåŠ¨ä¿å­˜
    readOnly: false,                   // åªè¯»æ¨¡å¼
  },

  // å·¥å…·æ é…ç½®
  toolbars: {
    theme: 'light',                    // å·¥å…·æ ä¸»é¢˜
    toolbar: [                         // å·¥å…·æ æŒ‰é’®
      ['bold', 'italic', 'strike', 'code'],
      ['h1', 'h2', 'h3'],
      ['list', 'ordered-list', 'check'],
      ['link', 'image', 'table', 'code-block'],
      ['fullScreen', 'previewerOnly', 'syncScrolling'],
    ],
    bubble: true,                      // æµ®åŠ¨å·¥å…·æ 
    float: true,                       // æ‚¬æµ®èœå•
    customMenu: [                      // è‡ªå®šä¹‰èœå•
      // è‡ªå®šä¹‰æŒ‰é’®
    ],
  },

  // é¢„è§ˆå™¨é…ç½®
  previewer: {
    theme: 'light',                    // é¢„è§ˆå™¨ä¸»é¢˜
    showCodeRowNumber: true,           // æ˜¾ç¤ºä»£ç è¡Œå·
    codeBlockStyle: 'prism',           // ä»£ç é«˜äº®å¼•æ“
    hljs: {
      theme: 'atom-one-dark',          // ä»£ç ä¸»é¢˜
      Languages: ['javascript', 'typescript', 'python'],
    },
    hrefTarget: '_blank',              // é“¾æ¥æ‰“å¼€æ–¹å¼
  },

  // å¼•æ“é…ç½®
  engine: {
    global: {
      urlProcessor: (url) => {
        // URL å¤„ç†
        return url;
      },
      cdn: 'https://cdn.example.com/',  // CDN åœ°å€
    },
    syntax: {
      table: {
        enableChart: false,             // è¡¨æ ¼è½¬å›¾è¡¨
      },
      math: {
        enable: true,                   // æ•°å­¦å…¬å¼
      },
      mermaid: {
        enable: true,                   // Mermaid å›¾è¡¨
        theme: 'default',
      },
    },
  },

  // å›è°ƒå‡½æ•°
  callback: {
    afterChange: (markdown, html, context) => {
      console.log('å†…å®¹å˜åŒ–:', markdown);
    },
    afterInit: () => {
      console.log('ç¼–è¾‘å™¨åˆå§‹åŒ–å®Œæˆ');
    },
    afterPaste: (event) => {
      console.log('ç²˜è´´äº‹ä»¶', event);
    },
    afterAddImage: (src, alt, href) => {
      console.log('å›¾ç‰‡æ·»åŠ ', src);
    },
    beforeChange: (markdown, html, context) => {
      // å¯ä»¥åœ¨è¿™é‡Œé¢„å¤„ç†å†…å®¹
      return { markdown, html };
    },
  },

  // æ–‡ä»¶ä¸Šä¼ 
  fileUpload: (file, insertIMG) => {
    // ä¸Šä¼ åˆ°æœåŠ¡å™¨
    const formData = new FormData();
    formData.append('file', file);

    fetch('/api/upload', {
      method: 'POST',
      body: formData,
    })
    .then(res => res.json())
    .then(data => {
      insertIMG(data.url);
    });
  },
});
```

---

## API å‚è€ƒ

### åŸºç¡€æ–¹æ³•

#### getValue()
è·å–ç¼–è¾‘å™¨ Markdown å†…å®¹

```javascript
const markdown = cherry.getValue();
console.log(markdown);
```

#### setValue(value)
è®¾ç½®ç¼–è¾‘å™¨ Markdown å†…å®¹

```javascript
cherry.setValue('# æ–°æ ‡é¢˜\n\næ–°å†…å®¹');
```

#### getHtml()
è·å–ç¼–è¾‘å™¨ HTML å†…å®¹

```javascript
const html = cherry.getHtml();
console.log(html);
```

#### insertValue(value)
åœ¨å…‰æ ‡ä½ç½®æ’å…¥å†…å®¹

```javascript
cherry.insertValue('**åŠ ç²—æ–‡æœ¬**');
```

### å…‰æ ‡æ§åˆ¶

#### focus()
è®¾ç½®ç„¦ç‚¹åˆ°ç¼–è¾‘å™¨

```javascript
cherry.focus();
```

#### blur()
ç§»é™¤ç„¦ç‚¹

```javascript
cherry.blur();
```

### é”€æ¯

#### destroy()
é”€æ¯ç¼–è¾‘å™¨å®ä¾‹

```javascript
cherry.destroy();
```

### æœç´¢å’Œæ›¿æ¢

#### search(keyword)
æœç´¢å…³é”®å­—

```javascript
cherry.search('å…³é”®è¯');
```

#### replace(searchKeyword, replaceKeyword)
æ›¿æ¢å†…å®¹

```javascript
cherry.replace('æ—§æ–‡æœ¬', 'æ–°æ–‡æœ¬');
```

---

## æœ€ä½³å®è·µ

### 1. åˆå§‹åŒ–ä¼˜åŒ–

```javascript
// âœ… æ‡’åŠ è½½ç¼–è¾‘å™¨
import Cherry from 'cherry-markdown';

const loadEditor = async () => {
  const Cherry = await import('cherry-markdown');
  const cherry = new Cherry({
    // é…ç½®...
  });
};
```

### 2. çŠ¶æ€ç®¡ç†

```javascript
// âœ… ä½¿ç”¨å¤–éƒ¨çŠ¶æ€ç®¡ç†
const [value, setValue] = useState('');

const cherry = new Cherry({
  value,
  callback: {
    afterChange: (markdown) => {
      setValue(markdown);
    }
  }
});
```

### 3. æ€§èƒ½ä¼˜åŒ–

```javascript
// âœ… é˜²æŠ–æ›´æ–°
import { debounce } from 'lodash';

const handleUpdate = debounce((markdown) => {
  saveContent(markdown);
}, 1000);

const cherry = new Cherry({
  callback: {
    afterChange: (markdown) => handleUpdate(markdown),
  }
});
```

### 4. é”™è¯¯å¤„ç†

```javascript
// âœ… æ·»åŠ é”™è¯¯è¾¹ç•Œ
try {
  const cherry = new Cherry({ /* config */ });
} catch (error) {
  console.error('ç¼–è¾‘å™¨åˆå§‹åŒ–å¤±è´¥:', error);
  // æ˜¾ç¤ºé”™è¯¯æç¤º
}
```

---

## å¸¸è§åœºæ™¯

### åœºæ™¯ 1: åšå®¢æ–‡ç« ç¼–è¾‘å™¨

```javascript
import Cherry from 'cherry-markdown';

const blogEditor = new Cherry({
  id: 'blog-editor',
  value: '# æ ‡é¢˜\n\nå†…å®¹...',
  editor: {
    defaultModel: 'edit&Preview',
    placeholder: 'ç¼–å†™åšå®¢æ–‡ç« ...',
  },
  toolbars: {
    toolbar: [
      ['bold', 'italic', 'link', 'image'],
      ['h1', 'h2', 'h3'],
      ['list', 'quote', 'code-block'],
    ],
  },
  callback: {
    afterChange: (markdown) => {
      // è‡ªåŠ¨ä¿å­˜åšå®¢è‰ç¨¿
      saveBlogDraft(markdown);
    },
  },
});
```

### åœºæ™¯ 2: çŸ¥è¯†åº“æ–‡æ¡£

```javascript
const wikiEditor = new Cherry({
  id: 'wiki-editor',
  editor: {
    defaultModel: 'editOnly',  // çº¯ç¼–è¾‘æ¨¡å¼
  },
  engine: {
    syntax: {
      math: { enable: true },    // å¯ç”¨æ•°å­¦å…¬å¼
      mermaid: { enable: true }, // å¯ç”¨æµç¨‹å›¾
    },
  },
  fileUpload: (file, insertIMG) => {
    // ä¸Šä¼ åˆ°äº‘å­˜å‚¨
    uploadToS3(file).then(url => insertIMG(url));
  },
});
```

### åœºæ™¯ 3: AI èŠå¤©ç•Œé¢

```javascript
const chatEditor = new Cherry({
  id: 'chat-input',
  editor: {
    height: '150px',
    minHeight: '100px',
    placeholder: 'è¾“å…¥æ¶ˆæ¯...',
  },
  toolbars: {
    toolbar: [
      ['bold', 'italic', 'code'],
      ['image', 'file'],
    ],
  },
  callback: {
    afterChange: (markdown) => {
      // å®æ—¶å‘é€åˆ° AI
      onUserInput(markdown);
    },
  },
});
```

---

## èµ„æºé“¾æ¥

- **GitHub**: https://github.com/Tencent/cherry-markdown
- **æ–‡æ¡£**: https://tencent.github.io/cherry-markdown/examples/
- **NPM**: https://www.npmjs.com/package/cherry-markdown
- **Demo**: https://tencent.github.io/cherry-markdown/examples/index.html

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2024-01-15
**ç»´æŠ¤è€…**: AuraForce Documentation Team
